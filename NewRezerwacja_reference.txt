// src/pages/NewRezerwacja.tsx
import React, { useMemo, useState } from "react";
import BookingCalendar from "@/components/BookingCalendar";
import { buildICS, downloadICS } from "@/utils/ics";

type ServiceType = "Sesja" | "Åšlub" | "PrzyjÄ™cie" | "Urodziny";
/** Urodziny potrzebujÄ… wÅ‚asnych nazw pakietÃ³w: Foto, Standard */
type PackageType = "Ekonomiczny" | "ZÅ‚oty" | "Platynowy" | "Foto" | "Standard";

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Â  Â CENNIKI (Bez zmian)
Â  Â â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const packages: Record<ServiceType, { name: PackageType; hours: number; price: number }[]> = {
Â  Sesja: [
Â  Â  { name: "Ekonomiczny", hours: 1, price: 400 },
Â  Â  { name: "ZÅ‚oty", Â  Â  Â  hours: 2, price: 800 },
Â  Â  { name: "Platynowy", Â  hours: 2, price: 1400 },
Â  ],
Â  Åšlub: [
Â  Â  { name: "Ekonomiczny", hours: 6, Â price: 2500 },
Â  Â  { name: "ZÅ‚oty", Â  Â  Â  hours: 6, Â price: 3500 },
Â  Â  { name: "Platynowy", Â  hours: 12, price: 5500 },
Â  ],
Â  PrzyjÄ™cie: [
Â  Â  { name: "Ekonomiczny", hours: 4, price: 800 },
Â  Â  { name: "ZÅ‚oty", Â  Â  Â  hours: 6, price: 1200 },
Â  Â  { name: "Platynowy", Â  hours: 6, price: 1500 },
Â  ],
Â  Urodziny: [
Â  Â  { name: "Ekonomiczny", hours: 4, price: 850 },
Â  Â  { name: "Foto", Â  Â  Â  Â hours: 6, price: 1000 },
Â  Â  { name: "Standard", Â  Â hours: 4, price: 1300 },
Â  ],
};

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Â  Â OPISY â€“ SESJA (Finalne, Zoptymalizowane)
Â  Â â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const sessionDetails: Record<
Â  Exclude<PackageType, "Foto" | "Standard">,
Â  { subtitle: string; bullets: string[]; turnaround?: string }
> = {
Â  Ekonomiczny: {
Â  Â  subtitle: "Szybka PamiÄ…tka.",
Â  Â  bullets: [
Â  Â  Â  "Lekki spacer, gdzie zÅ‚apiemy naturalne emocje",
Â  Â  Â  "1 lokalizacja (np. starÃ³wka, park, plener)",
Â  Â  Â  "20 zdjÄ™Ä‡ po autorskiej obrÃ³bce",
Â  Â  Â  "Galeria online (wybÃ³r i pobieranie)",
Â  Â  Â  "Eleganckie pudeÅ‚ko z odbitkami",
Â  Â  Â  "Wsparcie w doborze ubraÅ„",
Â  Â  ],
Â  Â  turnaround: "do 10 dni roboczych",
Â  },
Â  ZÅ‚oty: {
Â  Â  subtitle: "Zainwestuj w pamiÄ…tkÄ™ uszytÄ… na miarÄ™ Twoich oczekiwaÅ„.",
Â  Â  bullets: [
Â  Â  Â  "Dojazd do Torunia w cenie",
Â  Â  Â  "PeÅ‚en ReportaÅ¼ z 2â€“3 Lokalizacji (np. StarÃ³wka, Zamek, Bulwar)",
Â  Â  Â  "40 autorsko obrobionych zdjÄ™Ä‡ w peÅ‚nej rozdzielczoÅ›ci",
Â  Â  Â  "Pendrive z plikami",
Â  Â  Â  "Galeria online (wybÃ³r i pobieranie)",
Â  Â  Â  "Gwarancja 1 Daty Rezerwowej (na wypadek deszczu)",
Â  Â  Â  "Historia opowiedziana Waszymi emocjami",
Â  Â  ],
Â  },
Â  Platynowy: {
Â  Â  subtitle: "Pekiet prestiÅ¼owy z ekspresowÄ… realizcjÄ… oraz profesjonalnym wsparciem.",
Â  Â  bullets: [
Â  Â  Â  Â  "Indywidualna Konsultacja Wizerunkowa i Stylizacyjna (online lub przy kawie) â€“ peÅ‚ne wsparcie przed sesjÄ….",
Â  Â  Â  Â  "GWARANCJA Dostawy Galeri w 72 Godziny", 
Â  Â  Â  Â  "50 autorsko obrobionych ujÄ™Ä‡ w najwyÅ¼szej rozdzielczoÅ›ci.",
Â  Â  Â  Â  "2-3 Ekskluzywne Lokalizacje (w tym opcjonalne ujÄ™cia nocne na starym moÅ›cie lub plenerze)",
Â  Â  Â  Â  "Album Premium (projektowany indywidualnie, 20 rozkÅ‚adÃ³wek 30x30 cm) wraz z Pendrivem.", 
Â  Â  Â  Â  "Galeria online (wybÃ³r i pobieranie)",
Â  Â  Â  Â  "Rezerwowa data w pakiecie (TwÃ³j czas jest zbyt cenny na ryzyko pogodowe).",
Â  Â  ],
Â  },
};

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Â  Â OPISY â€“ ÅšLUB / PRZYJÄ˜CIE / URODZINY (Finalne, Zoptymalizowane)
Â  Â â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const serviceDetails: Partial<
Â  Record<ServiceType, Record<PackageType, { subtitle?: string; bullets?: string[]; note?: string }>>
> = {
Â  Åšlub: {
Â  Â  Ekonomiczny: { // ReportaÅ¼ 6 godzin (2500 zÅ‚)
Â  Â  Â  subtitle: "ESENCJA CHWILI | ReportaÅ¼ 6 godzin.",
Â  Â  Â  bullets: [
Â  Â  Â  Â  "ok. 250 profesjonalnie obrobionych zdjÄ™Ä‡.",
Â  Â  Â  Â  "Dokumentacja PrzygotowaÅ„ i Ceremonii (styl swobodny).",
Â  Â  Â  Â  "Mini-sesja pary w dniu Å›lubu.",
Â  Â  Â  Â  "Galeria online + Pendrive.",
Â  Â  Â  ],
Â  Â  },
Â  Â  ZÅ‚oty: { // ReportaÅ¼ 6 godzin (3500 zÅ‚) - POLECANY
Â  Â  Â  subtitle: "TWÃ“RCZE SPOJRZENIE | ReportaÅ¼ 6 godzin â€“ historia z naciskiem na detale i Wasze pasje.",
Â  Â  Â  bullets: [
Â  Â  Â  Â  "ok. 250 profesjonalnie obrobionych zdjÄ™Ä‡.",
Â  Â  Â  Â  "Rozszerzona sesja plenerowa w dniu Å›lubu.",
Â  Â  Â  Â  "Fotoalbum 20 rozkÅ‚adÃ³wek (format 25x25).",
Â  Â  Â  Â  "Galeria online + Pendrive + 10 wydrukÃ³w.",
Â  Â  Â  ],
Â  Â  },
Â  Â  Platynowy: { // ReportaÅ¼ 12 godzin (5500 zÅ‚) - CAÅY DZIEÅƒ
Â  Â  Â  subtitle: "HISTORIA W OBRAZACH | Kompleksowy reportaÅ¼ 12 godzin â€“ od przygotowaÅ„ do oczepin.",
Â  Â  Â  bullets: [
Â  Â  Â  Â  "ok. 300 profesjonalnie obrobionych zdjÄ™Ä‡.",
Â  Â  Â  Â  "ReportaÅ¼ z Kolacji/Uroczystego Obiadu.",
Â  Â  Â  Â  "Sesja plenerowa w innym terminie (z inspiracjÄ… Waszymi zainteresowaniami).",
Â  Â  Â  Â  "Fotoalbum 50 stron (format 30x30).",
Â  Â  Â  Â  "Galeria online + Pendrive.",
Â  Â  Â  ],
Â  Â  },
Â  },

Â  // NOWY PAKIET KOMUNIA - CENY ZA DZIECKO
Â  PrzyjÄ™cie: {
Â  Â  Ekonomiczny: { // ReportaÅ¼ 4h (100 zÅ‚ za dziecko)
Â  Â  Â  subtitle: "WSPÃ“LNY REPORTAÅ» | OpÅ‚ata za dziecko â€“ esencja ceremonii. TYLKO GALERIA ONLINE.",
Â  Â  Â  bullets: [
Â  Â  Â  Â  "ReportaÅ¼ z ceremonii w koÅ›ciele (4h).",
Â  Â  Â  Â  "Dla kaÅ¼dego dziecka ok. 20 ujÄ™Ä‡ z mszy i portretÃ³w grupowych.",
Â  Â  Â  Â  "Galeria online (zdjÄ™cia do pobrania) DLA RODZICÃ“W.",
Â  Â  Â  ],
Â  Â  Â  note: "Uwaga: Cena 100 zÅ‚ dotyczy reportaÅ¼u z mszy i jest opÅ‚atÄ… od dziecka. Cena nie obejmuje sesji indywidualnej.",
Â  Â  },
Â  Â  ZÅ‚oty: { // ReportaÅ¼ 6h (150 zÅ‚ za dziecko)
Â  Â  Â  subtitle: "PEÅNA PAMIÄ„TKA | ReportaÅ¼ z ceremonii, pendrive i odbitki.",
Â  Â  Â  bullets: [
Â  Â  Â  Â  "ReportaÅ¼ z ceremonii w koÅ›ciele (do 6h).",
Â  Â  Â  Â  "Dla kaÅ¼dego dziecka ok. 30 ujÄ™Ä‡ z ceremonii.",
Â  Â  Â  Â  "Pendrive z plikami cyfrowymi DLA RODZICÃ“W.",
Â  Â  Â  Â  "5 odbitek w eleganckim pudeÅ‚ku DLA KAÅ»DEGO DZIECKA.",
Â  Â  Â  Â  "Galeria online (zdjÄ™cia do pobrania).",
Â  Â  Â  ],
Â  Â  },
Â  Â  Platynowy: { // ReportaÅ¼ 6h + Sesja Indywidualna (350 zÅ‚ za dziecko)
Â  Â  Â  subtitle: "PREMIUM INDYWIDUALNIE | ReportaÅ¼ + Prywatna sesja plenerowa/studyjna + Album.",
Â  Â  Â  bullets: [
Â  Â  Â  Â  "ReportaÅ¼ z ceremonii w koÅ›ciele (do 6h) â€“ najlepsze ujÄ™cia.",
Â  Â  Â  Â  "INDYWIDUALNA SESJA PORTRETOWA dla dziecka (poza godzinami mszy, termin do ustalenia).",
Â  Â  Â  Â  "Elegancki Album Premium (20x20 cm) z wybranymi zdjÄ™ciami.",
Â  Â  Â  Â  "Pendrive z plikami cyfrowymi + Galeria online.",
Â  Â  Â  ],
Â  Â  },
Â  },

Â  Urodziny: {
Â  Â  Ekonomiczny: { // 4 godziny (850 zÅ‚)
Â  Â  Â  subtitle: "4-GODZINNA PAMIÄ„TKA | Skoncentrowany reportaÅ¼ z poczÄ…tku uroczystoÅ›ci.",
Â  Â  Â  bullets: [
Â  Â  Â  Â  "150 zdjÄ™Ä‡ po profesjonalnej obrÃ³bce plus odbitki.",
Â  Â  Â  Â  "ZdjÄ™cia z zabawy, goÅ›ci i momentu tortu.",
Â  Â  Â  Â  "Galeria online + Pendrive.",
Â  Â  Â  ],
Â  Â  },
Â  Â  Foto: { // 6 godzin (1000 zÅ‚)
Â  Â  Â  subtitle: "DÅUÅ»SZY REPORTAÅ» | 6 godzin â€“ wiÄ™cej luzu i detali uroczystoÅ›ci.",
Â  Â  Â  bullets: [
Â  Â  Â  Â  "200 zdjÄ™Ä‡ po profesjonalnej obrÃ³bce plus odbitki.",
Â  Â  Â  Â  "PeÅ‚na dokumentacja goÅ›ci.",
Â  Â  Â  Â  "Galeria online + Pendrive.",
Â  Â  Â  ],
Â  Â  },
Â  Â  Standard: { // 4 godziny (1300 zÅ‚) - Z FILMEM
Â  Â  Â  subtitle: "REPORTAÅ» Z FILMEM | 4 godziny reportaÅ¼u + Film do 10 minut.",
Â  Â  Â  bullets: [
Â  Â  Â  Â  "200 zdjÄ™Ä‡ po profesjonalnej obrÃ³bce plus odbitki",
Â  Â  Â  Â  "Film podsumowujÄ…cy (do 10 minut).",
Â  Â  Â  Â  "Galeria online + Pendrive z caÅ‚ym materiaÅ‚em.",
        ,
Â  Â  Â  ],
Â  Â  },
Â  },
};

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Â  Â Motywy kafelkÃ³w (bez zmian)
Â  Â â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
type Theme = {
Â  container: string;
Â  bullet: string;
Â  ring: string;
Â  hoverFloat?: string;
Â  badge?: { text: string; className: string } | null;
};

const neutralTheme: Theme = {
Â  container: "bg-white border border-zinc-200 hover:border-zinc-300",
Â  bullet: "bg-zinc-900",
Â  ring: "ring-2 ring-zinc-400",
Â  hoverFloat: "hover:-translate-y-[2px]",
Â  badge: null,
};

const sessionThemes: Record<Exclude<PackageType, "Foto" | "Standard">, Theme> = {
Â  Ekonomiczny: {
Â  Â  container: "bg-white border border-zinc-200 hover:border-zinc-300",
Â  Â  bullet: "bg-zinc-900",
Â  Â  ring: "ring-2 ring-zinc-400",
Â  Â  hoverFloat: "hover:-translate-y-[2px]",
Â  Â  badge: null,
Â  },
Â  ZÅ‚oty: {
Â  Â  container:
Â  Â  Â  "bg-gradient-to-br from-amber-50 via-amber-50 to-amber-100 border border-amber-300 hover:border-amber-400",
Â  Â  bullet: "bg-amber-800",
Â  Â  ring: "ring-2 ring-amber-400",
Â  Â  hoverFloat: "hover:-translate-y-[3px]",
Â  Â  badge: { text: "Polecany", className: "bg-amber-600 text-white" },
Â  },
Â  Platynowy: {
Â  Â  container:
Â  Â  Â  "bg-gradient-to-br from-slate-50 via-zinc-50 to-slate-100 border border-slate-300 hover:border-slate-400",
Â  Â  bullet: "bg-slate-800",
Â  Â  ring: "ring-2 ring-slate-400",
Â  Â  hoverFloat: "hover:-translate-y-[3px]",
Â  Â  badge: { text: "Platyna", className: "bg-slate-700 text-white" },
Â  },
};

/** Motywy per usÅ‚uga */
const serviceThemes: Partial<Record<ServiceType, Partial<Record<PackageType, Theme>>>> = {
Â  Sesja: sessionThemes,

Â  Åšlub: {
Â  Â  Ekonomiczny: {
Â  Â  Â  container: "bg-gradient-to-br from-rose-50 to-amber-50 border border-rose-200 hover:border-rose-300",
Â  Â  Â  bullet: "bg-rose-800",
Â  Â  Â  ring: "ring-2 ring-rose-300",
Â  Â  Â  hoverFloat: "hover:-translate-y-[2px]",
Â  Â  Â  badge: null,
Â  Â  },
Â  Â  ZÅ‚oty: {
Â  Â  Â  container: "bg-gradient-to-br from-amber-50 via-amber-100 to-rose-50 border border-amber-300 hover:border-amber-400",
Â  Â  Â  bullet: "bg-amber-800",
Â  Â  Â  ring: "ring-2 ring-amber-400",
Â  Â  Â  hoverFloat: "hover:-translate-y-[3px]",
Â  Â  Â  badge: { text: "NajczÄ™Å›ciej wybierany", className: "bg-amber-600 text-white" },
Â  Â  },
Â  Â  Platynowy: {
Â  Â  Â  container: "bg-gradient-to-br from-rose-50 via-zinc-50 to-amber-50 border border-rose-300 hover:border-rose-400",
Â  Â  Â  bullet: "bg-zinc-900",
Â  Â  Â  ring: "ring-2 ring-rose-400",
Â  Â  Â  hoverFloat: "hover:-translate-y-[3px]",
Â  Â  Â  badge: { text: "CaÅ‚y dzieÅ„", className: "bg-rose-700 text-white" },
Â  Â  },
Â  },

Â  PrzyjÄ™cie: {
Â  Â  Ekonomiczny: {
Â  Â  Â  container: "bg-gradient-to-br from-emerald-50 to-teal-50 border border-emerald-200 hover:border-emerald-300",
Â  Â  Â  bullet: "bg-emerald-800",
Â  Â  Â  ring: "ring-2 ring-emerald-300",
Â  Â  Â  hoverFloat: "hover:-translate-y-[2px]",
Â  Â  Â  badge: null,
Â  Â  },
Â  Â  ZÅ‚oty: {
Â  Â  Â  container: "bg-gradient-to-br from-teal-50 via-emerald-50 to-teal-100 border border-teal-300 hover:border-teal-400",
Â  Â  Â  bullet: "bg-teal-800",
Â  Â  Â  ring: "ring-2 ring-teal-400",
Â  Â  Â  hoverFloat: "hover:-translate-y-[3px]",
Â  Â  Â  badge: { text: "WiÄ™cej ujÄ™Ä‡", className: "bg-teal-600 text-white" },
Â  Â  },
Â  Â  Platynowy: {
Â  Â  Â  container: "bg-gradient-to-br from-emerald-50 via-zinc-50 to-teal-50 border border-emerald-300 hover:border-emerald-400",
Â  Â  Â  bullet: "bg-emerald-900",
Â  Â  Â  ring: "ring-2 ring-emerald-400",
Â  Â  Â  hoverFloat: "hover:-translate-y-[3px]",
Â  Â  Â  badge: null,
Â  Â  },
Â  },

Â  Urodziny: {
Â  Â  Ekonomiczny: {
Â  Â  Â  container: "bg-gradient-to-br from-fuchsia-50 to-violet-50 border border-violet-200 hover:border-violet-300",
Â  Â  Â  bullet: "bg-violet-800",
Â  Â  Â  ring: "ring-2 ring-violet-300",
Â  Â  Â  hoverFloat: "hover:-translate-y-[2px]",
Â  Â  Â  badge: null,
Â  Â  },
Â  Â  Foto: {
Â  Â  Â  container: "bg-gradient-to-br from-violet-50 via-fuchsia-50 to-violet-100 border border-fuchsia-300 hover:border-fuchsia-400",
Â  Â  Â  bullet: "bg-fuchsia-800",
Â  Â  Â  ring: "ring-2 ring-fuchsia-400",
Â  Â  Â  hoverFloat: "hover:-translate-y-[3px]",
Â  Â  Â  badge: { text: "DÅ‚uÅ¼ej + wiÄ™cej zdjÄ™Ä‡", className: "bg-fuchsia-600 text-white" },
Â  Â  },
Â  Â  Standard: {
Â  Â  Â  container: "bg-gradient-to-br from-violet-50 via-zinc-50 to-fuchsia-50 border border-violet-300 hover:border-violet-400",
Â  Â  Â  bullet: "bg-violet-900",
Â  Â  Â  ring: "ring-2 ring-violet-400",
Â  Â  Â  hoverFloat: "hover:-translate-y-[3px]",
Â  Â  Â  badge: { text: "Z filmem", className: "bg-violet-700 text-white" },
Â  Â  },
Â  },
};

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function ThemedPackageCard({
Â  title,
Â  subtitle,
Â  bullets,
Â  price,
Â  hours,
Â  turnaround,
Â  selected,
Â  onSelect,
Â  theme,
}: {
Â  title: string;
Â  subtitle?: string;
Â  bullets?: string[];
Â  price: number;
Â  hours: number;
Â  turnaround?: string;
Â  selected?: boolean;
Â  onSelect: () => void;
Â  theme: Theme;
}) {
Â  return (
Â  Â  <button
Â  Â  Â  type="button"
Â  Â  Â  onClick={onSelect}
Â  Â  Â  aria-pressed={selected}
Â  Â  Â  className={[
Â  Â  Â  Â  "group relative flex min-h-[440px] flex-col justify-between text-left",
Â  Â  Â  Â  "rounded-2xl p-6 shadow-sm transition duration-200",
Â  Â  Â  Â  theme.container,
Â  Â  Â  Â  theme.hoverFloat || "",
Â  Â  Â  Â  selected ? `${theme.ring} ring-offset-2 shadow-md` : "shadow-sm",
Â  Â  Â  ].join(" ")}
Â  Â  >
Â  Â  Â  {theme.badge && (
Â  Â  Â  Â  <span className={`absolute right-4 top-4 rounded-full px-2.5 py-1 text-xs font-medium ${theme.badge.className}`}>
Â  Â  Â  Â  Â  {theme.badge.text}
Â  Â  Â  Â  </span>
Â  Â  Â  )}

Â  Â  Â  <div className="flex-1">
Â  Â  Â  Â  <h3 className="text-xl font-semibold leading-snug tracking-tight">{title}</h3>
Â  Â  Â  Â  {subtitle && <p className="mt-1 text-[15px] leading-relaxed text-zinc-800">{subtitle}</p>}

Â  Â  Â  Â  {bullets && bullets.length > 0 && (
Â  Â  Â  Â  Â  <ul className="mt-4 space-y-2 text-[15px]">
Â  Â  Â  Â  Â  Â  {bullets.map((b, i) => (
Â  Â  Â  Â  Â  Â  Â  <li key={i} className="relative pl-6 leading-relaxed">
Â  Â  Â  Â  Â  Â  Â  Â  <span className={`absolute left-0 top-2 h-2 w-2 rounded-full ${theme.bullet}`} />
Â  Â  Â  Â  Â  Â  Â  Â  {b}
Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  </ul>
Â  Â  Â  Â  )}
Â  Â  Â  </div>

Â  Â  Â  <div className="mt-6 flex items-end justify-between">
Â  Â  Â  Â  <div className="leading-none">
Â  Â  Â  Â  Â  <div className="text-3xl md:text-4xl font-semibold tracking-tight">{price} zÅ‚</div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div className="text-xs md:text-sm text-zinc-700 pl-3">
Â  Â  Â  Â  Â  Czas trwania: ok. {hours} h{turnaround ? ` Â· Termin oddania: ${turnaround}` : ""}
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  </button>
Â  );
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const NewRezerwacja: React.FC = () => {
Â  const [service, setService] = useState<ServiceType>("Sesja");
Â  const [pack, setPack] = useState<PackageType | null>(null);
Â  const [slot, setSlot] = useState<{ date: string; start?: string; end?: string } | null>(null);

Â  const [name, setName] = useState("");
Â  const [email, setEmail] = useState("");
Â  const [phone, setPhone] = useState("");

Â  const [venueCity, setVenueCity] = useState("");
Â  const [venuePlace, setVenuePlace] = useState("");

Â  const [notes, setNotes] = useState("");
Â  const [rodo, setRodo] = useState(false);

Â  const needsVenue = service === "Åšlub" || service === "PrzyjÄ™cie" || service === "Urodziny";

Â  const chosenPackage = useMemo(
Â  Â  () => (pack ? packages[service].find((p) => p.name === pack) ?? null : null),
Â  Â  [service, pack]
Â  );

Â  const sessionDuration: 1 | 2 | undefined =
Â  Â  service === "Sesja" ? (chosenPackage?.hours === 2 ? 2 : 1) : undefined;

Â  const isReadyToSubmit =
Â  Â  !!chosenPackage &&
Â  Â  !!name &&
Â  Â  !!email &&
Â  Â  !!rodo &&
Â  Â  !!slot?.date &&
Â  Â  (service !== "Sesja" || (!!slot?.start && !!slot?.end)) &&
Â  Â  (!needsVenue || (!!venueCity && !!venuePlace));

const handleSubmit = async (e: React.FormEvent) => {
Â  e.preventDefault();

Â  // GA4 - klikniÄ™cie przycisku rezerwacji
Â  if (typeof gtag !== "undefined") {
Â  Â  gtag("event", "reservation_submit", {
Â  Â  Â  event_category: "Rezerwacja",
Â  Â  Â  event_label: "KlikniÄ™to przycisk PotwierdÅº rezerwacjÄ™",
Â  Â  });
Â  }

Â  if (!isReadyToSubmit || !slot || !chosenPackage) {
Â  Â  alert("UzupeÅ‚nij wszystkie wymagane pola i wybierz termin!");
Â  Â  return;
Â  }

Â  Â  const title = `${service} â€” ${chosenPackage.name}`;
Â  Â  const location =
Â  Â  Â  needsVenue && venueCity && venuePlace
Â  Â  Â  Â  ? `${venuePlace}, ${venueCity}`
Â  Â  Â  Â  : "Studio / wg ustaleÅ„";

Â  Â  const descLines = [
Â  Â  Â  `UsÅ‚uga: ${service}`,
Â  Â  Â  `Pakiet: ${chosenPackage.name} (${chosenPackage.hours}h)`,
Â  Â  Â  `Cena: ${chosenPackage.price} zÅ‚`,
Â  Â  Â  `Klient: ${name}`,
Â  Â  Â  `Email: ${email}`,
Â  Â  Â  `Telefon: ${phone || "-"}`,
Â  Â  Â  needsVenue ? `Miejsce: ${venuePlace || "-"}, ${venueCity || "-"}` : undefined,
Â  Â  Â  slot.start && slot.end ? `Godziny: ${slot.start}â€“${slot.end}` : "Rezerwacja caÅ‚odniowa",
Â  Â  Â  `Uwagi: ${notes || "-"}`,
Â  Â  ].filter(Boolean) as string[];

Â  Â  const ics = buildICS({
Â  Â  Â  uid: `booking-${Date.now()}@wlasniewski.pl`,
Â  Â  Â  title,
Â  Â  Â  description: descLines.join("\n"),
Â  Â  Â  date: slot.date,
Â  Â  Â  start: slot.start,
Â  Â  Â  end: slot.end,
Â  Â  Â  attendeeEmail: email,
Â  Â  Â  organizerEmail: "przemyslaw@wlasniewski.pl",
Â  Â  Â  location,
Â  Â  });

Â  Â  const payload = {
Â  Â  Â  service,
Â  Â  Â  date: slot.date,
Â  Â  Â  start: slot.start ?? null,
Â  Â  Â  end: slot.end ?? null,
Â  Â  Â  name,
Â  Â  Â  email,
Â  Â  Â  phone,
Â  Â  Â  venueCity: needsVenue ? venueCity : "",
Â  Â  Â  venuePlace: needsVenue ? venuePlace : "",
Â  Â  Â  notes,
Â  Â  Â  package: chosenPackage.name,
Â  Â  Â  hours: chosenPackage.hours,
Â  Â  Â  price: chosenPackage.price,
Â  Â  Â  ics,
Â  Â  };

Â  Â  try {
Â  Â  Â  const res = await fetch("/api/booking.php", {
Â  Â  Â  Â  method: "POST",
Â  Â  Â  Â  headers: { "Content-Type": "application/json" },
Â  Â  Â  Â  body: JSON.stringify(payload),
Â  Â  Â  });
Â  Â  Â  const data = await res.json();

Â  Â  Â  if (!data?.ok) {
Â  Â  Â  Â  alert(data?.message || "Nie udaÅ‚o siÄ™ zapisaÄ‡ rezerwacji. SprÃ³buj ponownie.");
Â  Â  Â  Â  return;
Â  Â  Â  }

Â  Â  Â  alert(
Â  Â  Â  Â  `âœ… Rezerwacja potwierdzona!
UsÅ‚uga: ${service}
Termin: ${slot.date}${slot.start ? ` ${slot.start}â€“${slot.end}` : " (caÅ‚y dzieÅ„)"}
Pakiet: ${chosenPackage.name} (${chosenPackage.hours}h)
Cena: ${chosenPackage.price} zÅ‚
${needsVenue ? `Miejsce: ${venuePlace}, ${venueCity}\n` : ""}Potwierdzenie wysÅ‚ano na e-mail.`
Â  Â  Â  );

Â  Â  Â  downloadICS(`rezerwacja-${slot.date}.ics`, ics);
Â  Â  } catch (err) {
Â  Â  Â  console.error(err);
Â  Â  Â  alert("WystÄ…piÅ‚ bÅ‚Ä…d sieci. SprÃ³buj ponownie.");
Â  Â  }
Â  };

Â  const detailSet = serviceDetails[service] || {};
Â  const themeSet = serviceThemes[service] || {};

Â  return (
Â  Â  <main className="mx-auto max-w-4xl p-6 space-y-8">
Â  Â  Â  <div className="flex items-center justify-between gap-4">
Â  Â  Â  Â  <h1 className="text-3xl font-bold">Rezerwacja terminu</h1>
Â  Â  Â  Â  <a
Â  Â  Â  Â  Â  href="/"
Â  Â  Â  Â  Â  className="inline-flex items-center gap-2 rounded-md border px-4 py-2 text-sm font-medium hover:bg-indigo-50"
Â  Â  Â  Â  >
Â  Â  Â  Â  Â  <span aria-hidden>â†</span> WrÃ³Ä‡ na stronÄ™ gÅ‚Ã³wnÄ…
Â  Â  Â  Â  </a>
Â  Â  Â  </div>


Â  Â  Â  {/* SEKCJA FILOZOFII (Zaktualizowana) */}
Â  Â  Â  <section id="philosophy" className="py-6 border-b border-zinc-200">
Â  Â  Â  Â  <h1 className="text-2xl font-semibold text-zinc-800">Zapraszam do rezerwacji sesji w plenerze, koÅ›ciele i na sali.</h1>
Â  Â  Â  Â  <h2 className="mt-2 text-xl font-medium text-zinc-700">Twoja historia zaczyna siÄ™ od kawy z fotografem :).</h2>
Â  Â  Â  Â  <p className="mt-3 text-base text-zinc-600">
Â  Â  Â  Â  Â  JeÅ¼eli szukasz sesji, ktÃ³ra jest <b>prawdziwÄ… przygodÄ…</b>, a nie stresem, trafiÅ‚eÅ› idealnie. Moja praktyka udowodniÅ‚a, Å¼e podstawÄ… jest dobra atmosfera, rozmowa i kawa. To wÅ‚aÅ›nie dobra i przyjazna atmosfera gwarantuje nam finalny efekt: naturalne, peÅ‚ne emocji zdjÄ™cia.
Â  Â  Â  Â  </p>

Â  Â  Â  Â  <h2 className="mt-4 text-xl font-medium text-zinc-700">Dlaczego naturalne zdjÄ™cia sÄ… mojÄ… obsesjÄ…?</h2>
Â  Â  Â  Â  <p className="mt-3 text-base text-zinc-600">
Â  Â  Â  Â  Â  W moim rozumieniu <b>pozowanie to zÅ‚o</b>, ktÃ³re gasi bliskoÅ›Ä‡. Skupiamy siÄ™ na miÅ‚oÅ›ci, bliskoÅ›ci i zabawie, ktÃ³re prowadzÄ… do szczerego uÅ›miechu. Naturalne zdjÄ™cia to takie, ktÃ³re <b>opowiadajÄ… historiÄ™</b> â€“ WaszÄ… historiÄ™.
Â  Â  Â  Â  </p>
Â  Â  Â  Â  
Â  Â  Â  Â  <p className="mt-3 text-base text-zinc-600">
Â  Â  Â  Â  Â  Moje 5-letnie doÅ›wiadczenie pozwoliÅ‚o mi dostrzegaÄ‡ miejsca, ktÃ³re tworzÄ… <b>nierozÅ‚Ä…cznÄ… harmoniÄ™ miÄ™dzy otoczeniem i czÅ‚owiekiem.</b> MojÄ… rolÄ… jest zachÄ™ciÄ‡ Was do szczerych gestÃ³w â€“ do zabawy z dzieÄ‡mi, do patrzenia sobie w oczy, do biegania, szukania kamieni czy wspÃ³lnego liczenia ptakÃ³w. To Ty siÄ™ bawisz, a ja â€“ jako dyskretny reporter â€“ gwarantujÄ™, Å¼e uchwycÄ™ miÅ‚oÅ›Ä‡ i bliskoÅ›Ä‡, ktÃ³ra gasi potrzebÄ™ pozowania.
Â  Â  Â  Â  </p>

        {/* LISTA OPINII (NOWY FONT SIZE: text-base) */}
        <div className="mt-8 pt-4 border-t border-zinc-200">
            <h3 className="text-xl font-semibold text-zinc-800 mb-4">Co mÃ³wiÄ… klienci?</h3>
            <div className="space-y-4 text-base text-zinc-700"> {/* TUTAJ ZMIANA: text-sm -> text-base */}
                <p>
                    <span className="text-amber-500 mr-1">â˜…â˜…â˜…â˜…â˜…</span>
                    Sympatyczna atmosfera na sesji zdjÄ™ciowej, a efekty przeszÅ‚y nasze oczekiwania. Polecam z caÅ‚ego serduszka, jeÅ›li chcecie mieÄ‡ wspaniaÅ‚e i przepiÄ™kne wspomnienia. <span className="font-semibold">â€” Agnieszka P., Lisewo</span>
                </p>
                <p>
                    <span className="text-amber-500 mr-1">â˜…â˜…â˜…â˜…â˜…</span>
                    Wielokrotnie Przemek swoim profesjonalnym okiem, uwieczniaÅ‚ nasze wydarzenia wiejskie jaki i moje uroczystoÅ›ci rodzinne. Jest profesjonalistÄ…. ZdjÄ™cia przepiÄ™kne. Polecam gorÄ…co i jeszcze nie raz na pewno skorzystam z jego osobyğŸ˜‰ğŸ˜„... <span className="font-semibold">â€” MaÅ‚gorzata S., PÅ‚uÅ¼nica</span>
                </p>
                <p>
                    <span className="text-amber-500 mr-1">â˜…â˜…â˜…â˜…â˜…</span>
                    Rewelacja i profesjonalizm ğŸ˜Š <span className="font-semibold">â€” Marzena K., WÄ…brzeÅºno</span>
                </p>
                <p>
                    <span className="text-amber-500 mr-1">â˜…â˜…â˜…â˜…â˜…</span>
                    Portrety biznesowe i rodzinne... <span className="font-semibold">â€” Monika S., ToruÅ„</span>
                </p>
                <p>
                    <span className="text-amber-500 mr-1">â˜…â˜…â˜…â˜…â˜…</span>
                    Pan Przemek od trzech lat wspÃ³Å‚pracuje z nami przy organizacji biegu wykonujÄ…c przecudowne zdjÄ™cia ğŸ˜ Polecamy!
                </p>
            </div>
        </div>
Â  Â  Â  </section>
Â  Â  Â  {/* KONIEC SEKCJI FILOZOFII */}


Â  Â  Â  {/* 1) UsÅ‚uga */}
Â  Â  Â  <section>
Â  Â  Â  Â  <h2 className="text-xl font-semibold mb-2">1) Wybierz usÅ‚ugÄ™</h2>
Â  Â  Â  Â  <div className="flex flex-wrap gap-3">
Â  Â  Â  Â  Â  {(["Sesja", "Åšlub", "PrzyjÄ™cie", "Urodziny"] as ServiceType[]).map((s) => (
Â  Â  Â  Â  Â  Â  <button
Â  Â  Â  Â  Â  Â  Â  key={s}
Â  Â  Â  Â  Â  Â  Â  type="button"
Â  Â  Â  Â  Â  Â  Â  onClick={() => {
Â  Â  Â  Â  Â  Â  Â  Â  setService(s);
Â  Â  Â  Â  Â  Â  Â  Â  setPack(null);
Â  Â  Â  Â  Â  Â  Â  Â  setSlot(null);
Â  Â  Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  Â  Â  aria-pressed={service === s}
Â  Â  Â  Â  Â  Â  Â  className={`px-4 py-2 rounded-md border ${
Â  Â  Â  Â  Â  Â  Â  Â  service === s ? "bg-zinc-900 text-white border-zinc-900" : "hover:bg-zinc-50"
Â  Â  Â  Â  Â  Â  Â  }`}
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  {s}
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  </div>
Â  Â  Â  </section>

Â  Â  Â  {/* 2) Pakiet */}
Â  Â  Â  <section>
Â  Â  Â  Â  <h2 className="text-xl font-semibold mb-2">2) Pakiet</h2>

Â  Â  Â  Â  {service === "Sesja" ? (
Â  Â  Â  Â  Â  <div className="grid md:grid-cols-3 gap-6">
Â  Â  Â  Â  Â  Â  {packages.Sesja.map((p) => {
Â  Â  Â  Â  Â  Â  Â  const d = sessionDetails[p.name as Exclude<PackageType,"Foto"|"Standard">];
Â  Â  Â  Â  Â  Â  Â  const selected = pack === p.name;
Â  Â  Â  Â  Â  Â  Â  const theme = (serviceThemes.Sesja || {})[p.name] || neutralTheme;
Â  Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  <ThemedPackageCard
Â  Â  Â  Â  Â  Â  Â  Â  Â  key={p.name}
Â  Â  Â  Â  Â  Â  Â  Â  Â  title={`Pakiet ${p.name} â€” ${p.hours} ${p.hours === 1 ? "godzina" : "godziny"}`}
Â  Â  Â  Â  Â  Â  Â  Â  Â  subtitle={d?.subtitle}
Â  Â  Â  Â  Â  Â  Â  Â  Â  bullets={d?.bullets}
Â  Â  Â  Â  Â  Â  Â  Â  Â  price={p.price}
Â  Â  Â  Â  Â  Â  Â  Â  Â  hours={p.hours}
Â  Â  Â  Â  Â  Â  Â  Â  Â  turnaround={d?.turnaround}
Â  Â  Â  Â  Â  Â  Â  Â  Â  selected={selected}
Â  Â  Â  Â  Â  Â  Â  Â  Â  onSelect={() => setPack(p.name)}
Â  Â  Â  Â  Â  Â  Â  Â  Â  theme={theme}
Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  })}
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  ) : (
Â  Â  Â  Â  Â  <div className="grid md:grid-cols-3 gap-6">
Â  Â  Â  Â  Â  Â  {packages[service].map((p) => {
Â  Â  Â  Â  Â  Â  Â  const d = (detailSet as any)[p.name] as { subtitle?: string; bullets?: string[] } | undefined;
Â  Â  Â  Â  Â  Â  Â  const selected = pack === p.name;
Â  Â  Â  Â  Â  Â  Â  const theme = (themeSet as any)[p.name] || neutralTheme;
Â  Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  <ThemedPackageCard
Â  Â  Â  Â  Â  Â  Â  Â  Â  key={p.name}
Â  Â  Â  Â  Â  Â  Â  Â  Â  title={`Pakiet ${p.name} â€” ${p.hours} ${p.hours === 1 ? "godzina" : "godzin"}`}
Â  Â  Â  Â  Â  Â  Â  Â  Â  subtitle={d?.subtitle}
Â  Â  Â  Â  Â  Â  Â  Â  Â  bullets={d?.bullets}
Â  Â  Â  Â  Â  Â  Â  Â  Â  price={p.price}
Â  Â  Â  Â  Â  Â  Â  Â  Â  hours={p.hours}
Â  Â  Â  Â  Â  Â  Â  Â  Â  selected={selected}
Â  Â  Â  Â  Â  Â  Â  Â  Â  onSelect={() => setPack(p.name)}
Â  Â  Â  Â  Â  Â  Â  Â  Â  theme={theme}
Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  })}
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  )}

Â  Â  Â  Â  {!pack && <p className="mt-2 text-xs text-red-600">* WybÃ³r pakietu jest wymagany.</p>}
Â  Â  Â  </section>

Â  Â  Â  {/* 3) Termin */}
Â  Â  Â  <section>
Â  Â  Â  Â  <h2 className="text-xl font-semibold mb-2">3) Termin</h2>
Â  Â  Â  Â  <div className="rounded-lg border p-2">
Â  Â  Â  Â  Â  Â  <BookingCalendar
Â  Â  Â  Â  Â  Â  service={service}
Â  Â  Â  Â  Â  Â  value={slot}
Â  Â  Â  Â  Â  Â  onChange={(val) => {
Â  Â  Â  Â  Â  Â  Â  setSlot(val);

Â  Â  Â  Â  Â  Â  Â  // GA4 - uÅ¼ytkownik otworzyÅ‚ / uÅ¼yÅ‚ kalendarza
Â  Â  Â  Â  Â  Â  Â  if (typeof gtag !== "undefined") {
Â  Â  Â  Â  Â  Â  Â  Â  gtag("event", "calendar_open", {
Â  Â  Â  Â  Â  Â  Â  Â  Â  event_category: "Rezerwacja",
Â  Â  Â  Â  Â  Â  Â  Â  Â  event_label: "UÅ¼ytkownik wybraÅ‚ termin w kalendarzu",
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  Â  {...(service === "Sesja" && packages.Sesja.some((x) => x.name === pack && x.hours === 2)
Â  Â  Â  Â  Â  Â  Â  ? ({ durationHours: 2 } as const)
Â  Â  Â  Â  Â  Â  Â  : service === "Sesja"
Â  Â  Â  Â  Â  Â  Â  ? ({ durationHours: 1 } as const)
Â  Â  Â  Â  Â  Â  Â  : ({} as const))}
Â  Â  Â  Â  Â  />
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <p className="mt-2 text-xs text-zinc-500">
Â  Â  Â  Â  Â  {service === "Sesja"
Â  Â  Â  Â  Â  Â  ? "Wybierz dzieÅ„ i godzinÄ™. ZajÄ™te sloty sÄ… wyszarzone."
Â  Â  Â  Â  Â  Â  : "Dla wydarzeÅ„ rezerwujesz caÅ‚y dzieÅ„ â€“ zajÄ™te dni sÄ… wyszarzone."}
Â  Â  Â  Â  </p>
Â  Â  Â  </section>

Â  Â  Â  {/* 4) Dane klienta */}
Â  Â  Â  <section>
Â  Â  Â  Â  <h2 className="text-xl font-semibold mb-2">4) Dane klienta</h2>
Â  Â  Â  Â  <form className="space-y-4" onSubmit={handleSubmit} noValidate>
Â  Â  Â  Â  Â  <div className="grid md:grid-cols-2 gap-4">
Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  <label className="block text-sm font-medium">ImiÄ™ i nazwisko *</label>
Â  Â  Â  Â  Â  Â  Â  <input
Â  Â  Â  Â  Â  Â  Â  Â  className="border rounded-md px-3 py-2 w-full"
Â  Â  Â  Â  Â  Â  Â  Â  value={name}
Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setName(e.target.value)}
Â  Â  Â  Â  Â  Â  Â  Â  required
Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  <label className="block text-sm font-medium">E-mail *</label>
Â  Â  Â  Â  Â  Â  Â  <input
Â  Â  Â  Â  Â  Â  Â  Â  type="email"
Â  Â  Â  Â  Â  Â  Â  Â  className="border rounded-md px-3 py-2 w-full"
Â  Â  Â  Â  Â  Â  Â  Â  value={email}
Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setEmail(e.target.value)}
Â  Â  Â  Â  Â  Â  Â  Â  required
Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  {(service === "Åšlub" || service === "PrzyjÄ™cie" || service === "Urodziny") && (
Â  Â  Â  Â  Â  Â  <div className="grid md:grid-cols-2 gap-4">
Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  <label className="block text-sm font-medium">MiejscowoÅ›Ä‡ *</label>
Â  Â  Â  Â  Â  Â  Â  Â  <input
Â  Â  Â  Â  Â  Â  Â  Â  Â  className="border rounded-md px-3 py-2 w-full"
Â  Â  Â  Â  Â  Â  Â  Â  Â  value={venueCity}
Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setVenueCity(e.target.value)}
Â  Â  Â  Â  Â  Â  Â  Â  Â  required
Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  <label className="block text-sm font-medium">Lokal / miejsce imprezy *</label>
Â  Â  Â  Â  Â  Â  Â  Â  <input
Â  Â  Â  Â  Â  Â  Â  Â  Â  className="border rounded-md px-3 py-2 w-full"
Â  Â  Â  Â  Â  Â  Â  Â  Â  value={venuePlace}
Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setVenuePlace(e.target.value)}
Â  Â  Â  Â  Â  Â  Â  Â  Â  required
Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  )}

Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  <label className="block text-sm font-medium">Telefon</label>
Â  Â  Â  Â  Â  Â  <input
Â  Â  Â  Â  Â  Â  Â  className="border rounded-md px-3 py-2 w-full"
Â  Â  Â  Â  Â  Â  Â  value={phone}
Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setPhone(e.target.value)}
Â  Â  Â  Â  Â  Â  Â  inputMode="tel"
Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  <p className="mt-1 text-xs text-zinc-500">PomoÅ¼e to w ewentualnej, szybkiej konsultacji.</p>
Â  Â  Â  Â  Â  </div>


Â  Â  Â  Â  Â  <div className="pt-2">
Â  Â  Â  Â  Â  Â  <label className="block text-sm font-medium">
Â  Â  Â  Â  Â  Â  Â  Uwagi do rezerwacji <span className="text-xs text-zinc-500">(do 500 znakÃ³w)</span>
Â  Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  Â  <textarea
Â  Â  Â  Â  Â  Â  Â  className="border rounded-md px-3 py-2 w-full"
Â  Â  Â  Â  Â  Â  Â  rows={5}
Â  Â  Â  Â  Â  Â  Â  maxLength={500}
Â  Â  Â  Â  Â  Â  Â  value={notes}
Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setNotes(e.target.value)}
Â  Â  Â  Â  Â  Â  Â  placeholder="Dodatkowe informacje, preferencje, itp."
Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  <div className="mt-1 text-xs text-zinc-500">PozostaÅ‚o znakÃ³w: {Math.max(0, 500 - notes.length)}</div>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  <label className="flex items-start gap-2 text-sm">
Â  Â  Â  Â  Â  Â  <input type="checkbox" checked={rodo} onChange={(e) => setRodo(e.target.checked)} required />
Â  Â  Â  Â  Â  Â  <span>Zgadzam siÄ™ na przetwarzanie danych osobowych (RODO) *</span>
Â  Â  Â  Â  Â  </label>

Â  Â  Â  Â  Â  <div className="flex flex-wrap items-center gap-3">
Â  Â  Â  Â  Â  Â  <button
Â  Â  Â  Â  Â  Â  Â  type="submit"
Â  Â  Â  Â  Â  Â  Â  disabled={!isReadyToSubmit}
Â  Â  Â  Â  Â  Â  Â  className="bg-zinc-900 text-white px-4 py-2 rounded-md hover:bg-zinc-800 disabled:opacity-50 disabled:cursor-not-allowed"
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  PotwierdÅº rezerwacjÄ™
Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  <a
Â  Â  Â  Â  Â  Â  Â  href="/"
Â  Â  Â  Â  Â  Â  Â  className="inline-flex items-center gap-2 rounded-md border px-4 py-2 text-sm font-medium hover:bg-zinc-50"
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  <span aria-hidden>â†</span> WrÃ³Ä‡ na stronÄ™ gÅ‚Ã³wnÄ…
Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </form>
Â  Â  Â  </section>
Â  Â  </main>
Â  );
};

export default NewRezerwacja;